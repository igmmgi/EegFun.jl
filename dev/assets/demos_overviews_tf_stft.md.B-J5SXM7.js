import{_ as i,o as e,c as a,aA as t}from"./chunks/framework.A7OkVGlh.js";const k=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"demos/overviews/tf_stft.md","filePath":"demos/overviews/tf_stft.md","lastUpdated":null}'),n={name:"demos/overviews/tf_stft.md"};function l(r,s,p,o,h,d){return e(),a("div",null,[...s[0]||(s[0]=[t(`<p>This demo demonstrates time-frequency analysis using the Short-Time Fourier Transform (STFT), a classic approach to spectrograms.</p><h3 id="What-is-STFT?" tabindex="-1">What is STFT? <a class="header-anchor" href="#What-is-STFT?" aria-label="Permalink to &quot;What is STFT? {#What-is-STFT?}&quot;">​</a></h3><p>STFT applies the Fast Fourier Transform (FFT) to windowed segments of the signal:</p><ol><li><p><strong>Window the signal</strong>: Apply time-limited window (e.g., Hann, Tukey)</p></li><li><p><strong>Compute FFT</strong>: Calculate frequency spectrum for that segment</p></li><li><p><strong>Slide window</strong>: Move forward in time and repeat</p></li><li><p><strong>Build spectrogram</strong>: Stack spectra to create time-frequency representation</p></li></ol><h3 id="Key-Parameters" tabindex="-1">Key Parameters <a class="header-anchor" href="#Key-Parameters" aria-label="Permalink to &quot;Key Parameters {#Key-Parameters}&quot;">​</a></h3><p><strong>Window length</strong> (<code>window_length</code>):</p><p>Controls time-frequency resolution:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tf_stft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(epochs, window_length </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 500 ms windows</span></span></code></pre></div><ul><li><p><strong>Longer windows</strong> (e.g., 500 ms): Better frequency resolution, worse time resolution</p></li><li><p><strong>Shorter windows</strong> (e.g., 200 ms): Better time resolution, worse frequency resolution</p></li></ul><p><strong>Cycles</strong> (alternative):</p><p>Instead of specifying window length, specify cycles at each frequency:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tf_stft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(epochs, cycles </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Creates frequency-adaptive windows similar to Morlet wavelets.</p><p><strong>Time steps</strong>:</p><p>Controls temporal resolution of output:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tf_stft</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(epochs, time_steps </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.005</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 5 ms steps</span></span></code></pre></div><p>Smaller = smoother time course, larger = faster computation.</p><h3 id="Frequency-Spacing" tabindex="-1">Frequency Spacing <a class="header-anchor" href="#Frequency-Spacing" aria-label="Permalink to &quot;Frequency Spacing {#Frequency-Spacing}&quot;">​</a></h3><p><strong>Linear</strong> (<code>frequencies = 2:1:80</code>):</p><ul><li><p>Equal Hz spacing</p></li><li><p>Natural for narrow bands</p></li></ul><p><strong>Logarithmic</strong> (<code>frequencies = logrange(2, 80, length = 100)</code>):</p><ul><li><p>Proportional spacing</p></li><li><p>Better for wide ranges</p></li><li><p>Use <code>ylogscale = true</code> in plots</p></li></ul><h3 id="Baseline-Correction" tabindex="-1">Baseline Correction <a class="header-anchor" href="#Baseline-Correction" aria-label="Permalink to &quot;Baseline Correction {#Baseline-Correction}&quot;">​</a></h3><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_time_frequency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    tf_data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    baseline_window </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    baseline_method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> :db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    colorrange </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Shows relative power changes from pre-stimulus baseline.</p><h3 id="Edge-Effects" tabindex="-1">Edge Effects <a class="header-anchor" href="#Edge-Effects" aria-label="Permalink to &quot;Edge Effects {#Edge-Effects}&quot;">​</a></h3><p><strong>Filter edges</strong> (<code>filter_edges = true</code>):</p><ul><li><p>Removes edge samples where windowing causes artifacts</p></li><li><p>Recommended for cleaner results</p></li></ul><h3 id="Workflow-Summary" tabindex="-1">Workflow Summary <a class="header-anchor" href="#Workflow-Summary" aria-label="Permalink to &quot;Workflow Summary {#Workflow-Summary}&quot;">​</a></h3><p>This demo shows:</p><ol><li><p><strong>Synthetic validation</strong>: Known frequencies (5, 25, 35 Hz)</p></li><li><p><strong>Fixed window length</strong>: Constant resolution analysis</p></li><li><p><strong>Cycles mode</strong>: Adaptive resolution</p></li><li><p><strong>Linear vs log spacing</strong>: Different frequency sampling</p></li><li><p><strong>Baseline correction</strong>: Event-related power changes</p></li><li><p><strong>Edge filtering</strong>: Removing edge artifacts</p></li></ol><h3 id="Further-Reading" tabindex="-1">Further Reading <a class="header-anchor" href="#Further-Reading" aria-label="Permalink to &quot;Further Reading {#Further-Reading}&quot;">​</a></h3><p>Cohen, M. X. (2014). <em>Analyzing Neural Time Series Data: Theory and Practice</em>. Chapter 15: Short-Time FFT</p>`,33)])])}const c=i(n,[["render",l]]);export{k as __pageData,c as default};
