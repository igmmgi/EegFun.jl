import{_ as s,o as a,c as t,aA as e}from"./chunks/framework.A7OkVGlh.js";const d=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"demos/overviews/plot_correlation_heatmap.md","filePath":"demos/overviews/plot_correlation_heatmap.md","lastUpdated":null}'),n={name:"demos/overviews/plot_correlation_heatmap.md"};function l(o,i,r,p,h,c){return a(),t("div",null,[...i[0]||(i[0]=[e(`<p>This demo demonstrates how to compute and visualize channel correlation matrices for quality control and artifact detection.</p><h3 id="What-is-a-Correlation-Matrix?" tabindex="-1">What is a Correlation Matrix? <a class="header-anchor" href="#What-is-a-Correlation-Matrix?" aria-label="Permalink to &quot;What is a Correlation Matrix? {#What-is-a-Correlation-Matrix?}&quot;">​</a></h3><p>A correlation matrix shows the Pearson correlation coefficient between all channel pairs:</p><ul><li><p><strong>Values range from -1 to +1</strong></p></li><li><p><strong>High positive correlation</strong> (near +1): Channels move together</p></li><li><p><strong>Low correlation</strong> (near 0): Channels are independent</p></li><li><p><strong>Negative correlation</strong> (near -1): Channels move in opposite directions</p></li></ul><h3 id="Why-Use-Correlation-Matrices?" tabindex="-1">Why Use Correlation Matrices? <a class="header-anchor" href="#Why-Use-Correlation-Matrices?" aria-label="Permalink to &quot;Why Use Correlation Matrices? {#Why-Use-Correlation-Matrices?}&quot;">​</a></h3><p><strong>Quality Control</strong>:</p><ul><li><p><strong>Identify bad channels</strong>: Low correlation with all neighbors</p></li><li><p><strong>Detect bridging</strong>: Unexpectedly high correlation between channels</p></li><li><p><strong>Assess reference choice</strong>: Impact on spatial correlation structure</p></li></ul><h3 id="Visualization-Types" tabindex="-1">Visualization Types <a class="header-anchor" href="#Visualization-Types" aria-label="Permalink to &quot;Visualization Types {#Visualization-Types}&quot;">​</a></h3><p><strong>Full Correlation Heatmap</strong>:</p><p>Shows all channel-to-channel correlations as a matrix where:</p><ul><li><p><strong>Diagonal</strong>: Always 1.0 (channel correlated with itself)</p></li><li><p><strong>Off-diagonal</strong>: Correlation between channel pairs</p></li><li><p><strong>Color scale</strong>: Red (high correlation) to blue (low correlation)</p></li></ul><p><strong>Dual Selection Heatmap</strong>:</p><p>Correlates two different channel sets:</p><ul><li><p><strong>Rows</strong>: One set of channels (e.g., all EEG channels)</p></li><li><p><strong>Columns</strong>: Another set (e.g., EOG channels)</p></li></ul><p><strong>Layout Overlay</strong>:</p><p>Displays channel-to-channel correlations directly on the 2D sensor layout:</p><ul><li><p>Select a reference channel</p></li><li><p>See its correlation with all other channels as colored dots</p></li><li><p><strong>Use case</strong>: Quick visual inspection of spatial correlation patterns</p></li></ul><h3 id="Expected-Patterns" tabindex="-1">Expected Patterns <a class="header-anchor" href="#Expected-Patterns" aria-label="Permalink to &quot;Expected Patterns {#Expected-Patterns}&quot;">​</a></h3><p><strong>Healthy Data</strong>:</p><ul><li><p><strong>High correlation with neighbors</strong> (~0.7-0.9): Nearby channels capture similar signals</p></li><li><p><strong>Decreasing correlation with distance</strong>: Far channels less correlated</p></li><li><p><strong>Symmetric matrix</strong>: Correlation(A,B) = Correlation(B,A)</p></li></ul><p><strong>Problematic Patterns</strong>:</p><p><strong>Single bad channel</strong>:</p><ul><li><p>Low correlation (&lt;0.3) with all neighbors</p></li><li><p>Stands out as a blue row/column in heatmap</p></li><li><p><strong>Solution</strong>: Interpolate or exclude</p></li></ul><p><strong>Bridged channels</strong>:</p><ul><li><p>Abnormally v. high correlation (&gt;0.99) between adjacent channels</p></li><li><p>Indicates electrical connection between electrodes</p></li><li><p><strong>Solution</strong>: Usually, more careful setup is required to avoid this</p></li></ul><p><strong>EOG contamination</strong>:</p><ul><li><p>High correlation between frontal channels and EOG</p></li><li><p>Expected for Fp1/Fp2 (near eyes)</p></li><li><p><strong>Solution</strong>: Use ICA for removal if excessive</p></li></ul><h3 id="Common-Use-Cases" tabindex="-1">Common Use Cases <a class="header-anchor" href="#Common-Use-Cases" aria-label="Permalink to &quot;Common Use Cases {#Common-Use-Cases}&quot;">​</a></h3><p><strong>1. Post-Acquisition Quality Check</strong>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> correlation_matrix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dat)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">plot_correlation_heatmap</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cm)</span></span></code></pre></div><p>Quick overview to identify problematic channels</p><p><strong>2. Targeted Channel Inspection</strong>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> correlation_matrix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(dat, channel_selection </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> channels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:Fp1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:Fp2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:C3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:C4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]))</span></span></code></pre></div><p>Focus on specific regions or suspected bad channels</p><p><strong>3. EOG Artifact Assessment</strong>:</p><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cm </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> correlation_matrix_dual_selection</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    dat,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    channel_selection1 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> channels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All EEG</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    channel_selection2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> channels</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:vEOG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:hEOG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># EOG</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>Identify which channels are affected by eye movements</p><h3 id="Workflow-Summary" tabindex="-1">Workflow Summary <a class="header-anchor" href="#Workflow-Summary" aria-label="Permalink to &quot;Workflow Summary {#Workflow-Summary}&quot;">​</a></h3><p>This demo shows:</p><ol><li><p><strong>Compute full correlation matrix</strong> for all channels</p></li><li><p><strong>Visualize as heatmap</strong> for overview</p></li><li><p><strong>Compute subset</strong> targeting specific channels</p></li><li><p><strong>Create EOG channels</strong> for artifact assessment</p></li><li><p><strong>Dual selection correlation</strong> to identify EOG-contaminated channels</p></li><li><p><strong>Layout overlay</strong> for spatial visualization</p></li></ol><p>The correlation matrix is a powerful diagnostic tool for both quality control and understanding spatial relationships in your data!</p>`,41)])])}const k=s(n,[["render",l]]);export{d as __pageData,k as default};
